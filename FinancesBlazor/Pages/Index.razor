@page "/"
@using Finances.Entities.Electricity;
@using FinancesBlazor.Components.Grid;
@using FinancesBlazor.Entities;
@using System.Text.Json.Nodes;
@inject ViewManager _viewManager;

<PageTitle>@_viewManager.ActiveView.Title</PageTitle>
<FinancesBlazor.Components.Grid.Grid ReloadDataRequested="ReloadDataRequested" Settings="@_viewManager.ActiveView.MainGridSettings" Data="_data" />


@code{
    private GridSettings? _settings;
    private JsonArray? _data;
    
    protected override Task OnInitializedAsync()
    {
        return base.OnInitializedAsync();
    }

    protected async Task ReloadDataRequested()
    {
        _data = await _viewManager.ActiveView.Service.Get();
    }
}